{"ast":null,"code":"import axios from 'axios';\nimport { AUTH_SIGN_IN, AUTH_SIGN_UP, AUTH_SIGN_OUT, AUTH_ERR, DASHBOARD_GET_DATA } from './types';\n/* \nActionCreators -> create/return actions or ({}) or function ->  dispatched -> middlewares -> reducers\n*/\n\nexport const getSecret = () => {\n  return async dispatch => {\n    try {\n      const res = await axios.get('http://localhost:5000/users/secret');\n      console.log('res secret', res.data);\n      dispatch({\n        type: DASHBOARD_GET_DATA,\n        payload: res.data.data.secret\n      });\n    } catch (error) {}\n  };\n};\nexport const oauthFacebook = data => {\n  return async dispatch => {\n    const res = await axios.post('http://localhost:5000/users/facebook/oauth', {\n      access_token: data\n    });\n    dispatch({\n      type: AUTH_SIGN_UP,\n      payload: res.data.token\n    });\n    localStorage.setItem('JWT_TOKEN', res.data.token);\n  };\n};\nexport const oauthGoogle = data => {\n  return async dispatch => {\n    const res = await axios.post('http://localhost:5000/users/google/oauth', {\n      access_token: data\n    });\n    dispatch({\n      type: AUTH_SIGN_UP,\n      payload: res.data.token\n    });\n    localStorage.setItem('JWT_TOKEN', res.data.token);\n  };\n};\nexport const signIn = data => {\n  return async dispatch => {\n    /*  1 make HTTP requet to backend\n        2 take the backend response (jwt token)\n        3 dispatch user just signed in (with jwt token)\n        4 save the jwt token to locaStorage\n    */\n    try {\n      const res = await axios.post('http://localhost:5000/users/signin', data);\n      dispatch({\n        type: AUTH_SIGN_IN,\n        payload: res.data.token\n      });\n      localStorage.setItem('JWT_TOKEN', res.data.token);\n    } catch (error) {\n      dispatch({\n        type: AUTH_ERR,\n        payload: 'Email is already in use!'\n      });\n    }\n  };\n};\nexport const signUp = data => {\n  return async dispatch => {\n    /*  1 make HTTP requet to backend\n        2 take the backend response (jwt token)\n        3 dispatch user just signed up (with jwt token)\n        4 save the jwt token to locaStorage\n    */\n    try {\n      const res = await axios.post('http://localhost:5000/users/signup', data);\n      dispatch({\n        type: AUTH_SIGN_UP,\n        payload: res.data.token\n      });\n      localStorage.setItem('JWT_TOKEN', res.data.token);\n    } catch (error) {\n      dispatch({\n        type: AUTH_ERR,\n        payload: 'Email is already in use!'\n      });\n    }\n  };\n};\nexport const signOut = () => {\n  return dispatch => {\n    localStorage.removeItem('JWT_TOKEN');\n    dispatch({\n      type: AUTH_SIGN_OUT,\n      payload: ''\n    });\n  };\n};","map":{"version":3,"sources":["/media/ces-user/Localdisk/ReactJs/APIAuthentication/client/src/actions/index.js"],"names":["axios","AUTH_SIGN_IN","AUTH_SIGN_UP","AUTH_SIGN_OUT","AUTH_ERR","DASHBOARD_GET_DATA","getSecret","dispatch","res","get","console","log","data","type","payload","secret","error","oauthFacebook","post","access_token","token","localStorage","setItem","oauthGoogle","signIn","signUp","signOut","removeItem"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nimport { AUTH_SIGN_IN, AUTH_SIGN_UP, AUTH_SIGN_OUT, AUTH_ERR, DASHBOARD_GET_DATA } from './types';\n/* \nActionCreators -> create/return actions or ({}) or function ->  dispatched -> middlewares -> reducers\n*/\nexport const getSecret = () => {\n    return async dispatch => {\n        try {\n            const res = await axios.get('http://localhost:5000/users/secret');\n            console.log('res secret', res.data);\n            dispatch({\n                type: DASHBOARD_GET_DATA,\n                payload: res.data.data.secret\n            })\n\n        } catch (error) {\n            \n        }\n    }\n}\n\nexport const oauthFacebook = data => {\n    return async dispatch => {\n        const res = await axios.post('http://localhost:5000/users/facebook/oauth',\n            { access_token: data });\n\n        dispatch({\n            type: AUTH_SIGN_UP,\n            payload: res.data.token\n        });\n\n        localStorage.setItem('JWT_TOKEN', res.data.token);\n    }\n}\n\n\nexport const oauthGoogle = data => {\n    return async dispatch => {\n        const res = await axios.post('http://localhost:5000/users/google/oauth',\n            { access_token: data });\n\n        dispatch({\n            type: AUTH_SIGN_UP,\n            payload: res.data.token\n        });\n\n        localStorage.setItem('JWT_TOKEN', res.data.token);\n    }\n}\n\nexport const signIn = data => {\n    return async dispatch => {\n        /*  1 make HTTP requet to backend\n            2 take the backend response (jwt token)\n            3 dispatch user just signed in (with jwt token)\n            4 save the jwt token to locaStorage\n        */\n\n        try {\n            const res = await axios.post('http://localhost:5000/users/signin', data);\n\n            dispatch({\n                type: AUTH_SIGN_IN,\n                payload: res.data.token\n            });\n\n            localStorage.setItem('JWT_TOKEN', res.data.token);\n\n        } catch (error) {\n            dispatch({\n                type: AUTH_ERR,\n                payload: 'Email is already in use!'\n            });\n        }\n    }\n}\n\n\nexport const signUp = data => {\n    return async dispatch => {\n        /*  1 make HTTP requet to backend\n            2 take the backend response (jwt token)\n            3 dispatch user just signed up (with jwt token)\n            4 save the jwt token to locaStorage\n        */\n\n        try {\n            const res = await axios.post('http://localhost:5000/users/signup', data);\n\n            dispatch({\n                type: AUTH_SIGN_UP,\n                payload: res.data.token\n            });\n\n            localStorage.setItem('JWT_TOKEN', res.data.token);\n\n        } catch (error) {\n            dispatch({\n                type: AUTH_ERR,\n                payload: 'Email is already in use!'\n            });\n        }\n    }\n}\n\nexport const signOut = () => {\n    return dispatch => {\n        localStorage.removeItem('JWT_TOKEN');\n\n        dispatch({\n            type: AUTH_SIGN_OUT,\n            payload: ''\n        });\n    }\n}"]},"metadata":{},"sourceType":"module"}